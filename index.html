<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Nothing OS Revision Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="chrome">
      <header class="topbar">
        <div class="brand">
          <div class="glyph">
            <div class="glyph__ring glyph__ring--outer"></div>
            <div class="glyph__ring glyph__ring--inner"></div>
            <div class="glyph__dot"></div>
          </div>
          <div>
            <p class="eyebrow">revision console</p>
            <h1>Nothing OS Tracker</h1>
          </div>
        </div>
        <div class="topbar__actions">
          <button class="ghost" id="toggle-theme">light / dark</button>
          <button class="ghost" data-view="dashboard" aria-current="true">dashboard</button>
          <button class="ghost" data-view="subjects">subjects</button>
          <button class="primary" id="open-log">log session</button>
        </div>
      </header>

      <main>
        <section id="dashboard" class="view view--active">
          <div class="panel panel--wide">
            <div class="panel__header">
              <div>
                <p class="eyebrow">countdown</p>
                <h2>Mocks in <span id="countdown">0</span> days</h2>
              </div>
              <div class="chip" id="overall-progress">Overall 0%</div>
            </div>
            <div class="grid grid--cards" id="subject-cards"></div>
          </div>

          <div class="panel">
            <div class="panel__header">
              <div>
                <p class="eyebrow">watch list</p>
                <h2>Weakest topics</h2>
              </div>
            </div>
            <div id="weak-topics" class="list"></div>
          </div>
        </section>

        <section id="subjects" class="view">
          <div class="panel panel--wide">
            <div class="panel__header">
              <div>
                <p class="eyebrow">subject browser</p>
                <h2>Topics by subject</h2>
              </div>
              <div class="toolbar toolbar--wrap">
                <label class="micro__label" for="subject-picker">subject</label>
                <select id="subject-picker"></select>
                <input id="filter-search" type="search" placeholder="search topics" />
                <label class="micro__label" for="filter-min">min mastery</label>
                <select id="filter-min">
                  <option value="0">0+</option>
                  <option value="1">1+</option>
                  <option value="2">2+</option>
                  <option value="3">3+</option>
                  <option value="4">4+</option>
                  <option value="5">5</option>
                </select>
                <button id="toggle-manage" class="ghost" aria-pressed="false">manage</button>
              </div>
            </div>
            <div class="stack stack--forms">
              <form id="add-subject-form" class="mini-form">
                <p class="eyebrow">Add subject</p>
                <input required name="name" placeholder="Subject name" />
                <button class="ghost" type="submit">add</button>
              </form>
              <form id="add-section-form" class="mini-form">
                <p class="eyebrow">Add section</p>
                <select name="subject"></select>
                <input required name="name" placeholder="Section name" />
                <button class="ghost" type="submit">add</button>
              </form>
              <form id="add-topic-form" class="mini-form">
                <p class="eyebrow">Add topic</p>
                <select name="subject"></select>
                <select name="section"></select>
                <input required name="name" placeholder="Topic name" />
                <button class="ghost" type="submit">add</button>
              </form>
              <form id="add-subtopic-form" class="mini-form">
                <p class="eyebrow">Add subtopic</p>
                <select name="subject"></select>
                <select name="section"></select>
                <select name="topic"></select>
                <input required name="name" placeholder="Subtopic name" />
                <button class="ghost" type="submit">add</button>
              </form>
            </div>
            <div id="section-list" class="section-list"></div>
          </div>
        </section>
      </main>
    </div>

    <div class="modal" id="session-modal" aria-hidden="true">
      <div class="modal__backdrop"></div>
      <div class="modal__card">
        <div class="modal__header">
          <div>
            <p class="eyebrow">log study session</p>
            <h3>Update mastery</h3>
          </div>
          <button class="ghost" id="close-log" aria-label="Close">close</button>
        </div>
        <form id="session-form" class="session-form">
          <label>
            <span class="micro__label">Subject</span>
            <select id="session-subject" required></select>
          </label>
          <label>
            <span class="micro__label">Section</span>
            <select id="session-section" required></select>
          </label>
          <label>
            <span class="micro__label">Topic</span>
            <select id="session-topic" required></select>
          </label>
          <label>
            <span class="micro__label">Minutes (optional)</span>
            <input type="number" min="0" step="5" id="session-minutes" placeholder="30" />
          </label>
          <label>
            <span class="micro__label">How did it go?</span>
            <select id="session-outcome">
              <option value="bad">Bad</option>
              <option value="ok" selected>OK</option>
              <option value="good">Good</option>
            </select>
          </label>
          <button type="submit" class="primary">log session</button>
        </form>
        <p class="micro__hint">Outcome nudges mastery (good +1, bad âˆ’1) and updates last reviewed to today.</p>
      </div>
    </div>

    <div class="modal" id="topic-modal" aria-hidden="true">
      <div class="modal__backdrop"></div>
      <div class="modal__card">
        <div class="modal__header">
          <div>
            <p class="eyebrow">topic details</p>
            <h3 id="topic-modal-title">Topic</h3>
          </div>
          <button class="ghost" id="close-topic" aria-label="Close">close</button>
        </div>
        <div class="topic-detail">
          <label>
            <span class="micro__label">Notes</span>
            <textarea id="topic-notes" rows="4" placeholder="Quick notes"></textarea>
          </label>
          <label>
            <span class="micro__label">Links (one per line)</span>
            <textarea id="topic-links" rows="3" placeholder="https://..."></textarea>
          </label>
          <button class="primary" id="save-topic">save</button>
        </div>
      </div>
    </div>

    <script src="app.js" type="module"></script>
  </body>
</html>
